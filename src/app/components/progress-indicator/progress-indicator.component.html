<div
  class="progress-indicator bg-blue-500 text-white p-3 shadow-md rounded-md mb-2 w-96"
  *ngIf="progressState.isVisible"
>
  <div class="flex flex-col">
    <div class="flex items-center justify-between">
      <div class="font-bold capitalize">{{ progressState.key }} Generation</div>
    </div>
    <div class="mt-2 text-sm">
      <span>
        Generating {{ progressState.totalItems }} items:
        {{ progressState.completedItems }}/{{ progressState.totalItems }}
        completed.
      </span>
    </div>
    <div
      *ngIf="progressState.isWaitingForRetry"
      class="mt-1 text-red-300 text-xs"
    >
      Rate limit error (429). Retrying in
      {{ progressState.retryCountdown }} seconds.
    </div>
    <!-- Progress bar -->
    <div class="mt-2 h-1 bg-gray-300 rounded">
      <div
        class="h-full bg-green-500 transition-all duration-300 rounded"
        [style.width.%]="progressPercentage"
      ></div>
    </div>
  </div>
</div>
